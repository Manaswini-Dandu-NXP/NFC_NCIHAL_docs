<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (11.0.18) on Thu Apr 13 15:07:36 IST 2023 -->
<title>HostApduService</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="dc.created" content="2023-04-13">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../jquery/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
<script type="text/javascript" src="../../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../jquery/jquery-3.6.0.min.js"></script>
<script type="text/javascript" src="../../../jquery/jquery-ui.min.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="HostApduService";
        }
    }
    catch(err) {
    }
//-->
var data = {"i0":10,"i1":10,"i2":6,"i3":6,"i4":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../";
var useModuleDirectories = true;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">android.nfc.cardemulation</a></div>
<h2 title="Class HostApduService" class="title">Class HostApduService</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>Service</li>
<li>
<ul class="inheritance">
<li>android.nfc.cardemulation.HostApduService</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<pre>public abstract class <span class="typeNameLabel">HostApduService</span>
extends Service</pre>
<div class="block"><p>HostApduService is a convenience <code>Service</code> class that can be
 extended to emulate an NFC card inside an Android
 service component.

 <div class="special reference">
 <h3>Developer Guide</h3>
 For a general introduction to card emulation, see
 <a href="../../..guide/topics/connectivity/nfc/hce.html">
 Host-based Card Emulation</a>.</p>
 </div>

 <h3>NFC Protocols</h3>
 <p>Cards emulated by this class are based on the NFC-Forum ISO-DEP
 protocol (based on ISO/IEC 14443-4) and support processing
 command Application Protocol Data Units (APDUs) as
 defined in the ISO/IEC 7816-4 specification.

 <h3>Service selection</h3>
 <p>When a remote NFC device wants to talk to your
 service, it sends a so-called
 "SELECT AID" APDU as defined in the ISO/IEC 7816-4 specification.
 The AID is an application identifier defined in ISO/IEC 7816-4.

 <p>The registration procedure for AIDs is defined in the
 ISO/IEC 7816-5 specification. If you don't want to register an
 AID, you are free to use AIDs in the proprietary range:
 bits 8-5 of the first byte must each be set to '1'. For example,
 "0xF00102030405" is a proprietary AID. If you do use proprietary
 AIDs, it is recommended to choose an AID of at least 6 bytes,
 to reduce the risk of collisions with other applications that
 might be using proprietary AIDs as well.

 <h3>AID groups</h3>
 <p>In some cases, a service may need to register multiple AIDs
 to implement a certain application, and it needs to be sure
 that it is the default handler for all of these AIDs (as opposed
 to some AIDs in the group going to another service).

 <p>An AID group is a list of AIDs that should be considered as
 belonging together by the OS. For all AIDs in an AID group, the
 OS will guarantee one of the following:
 <ul>
 <li>All AIDs in the group are routed to this service
 <li>No AIDs in the group are routed to this service
 </ul>
 In other words, there is no in-between state, where some AIDs
 in the group can be routed to this service, and some to another.
 <h3>AID groups and categories</h3>
 <p>Each AID group can be associated with a category. This allows
 the Android OS to classify services, and it allows the user to
 set defaults at the category level instead of the AID level.

 <p>You can use
 <code>CardEmulation#isDefaultServiceForCategory(android.content.ComponentName, String)</code>
 to determine if your service is the default handler for a category.

 <p>In this version of the platform, the only known categories
 are <a href="CardEmulation.html#CATEGORY_PAYMENT"><code>CardEmulation.CATEGORY_PAYMENT</code></a> and <a href="CardEmulation.html#CATEGORY_OTHER"><code>CardEmulation.CATEGORY_OTHER</code></a>.
 AID groups without a category, or with a category that is not recognized
 by the current platform version, will automatically be
 grouped into the <a href="CardEmulation.html#CATEGORY_OTHER"><code>CardEmulation.CATEGORY_OTHER</code></a> category.
 <h3>Service AID registration</h3>
 <p>To tell the platform which AIDs groups
 are requested by this service, a <a href="#SERVICE_META_DATA"><code>SERVICE_META_DATA</code></a>
 entry must be included in the declaration of the service. An
 example of a HostApduService manifest declaration is shown below:
 <pre> &lt;service android:name=".MyHostApduService" android:exported="true" android:permission="android.permission.BIND_NFC_SERVICE"&gt;
     &lt;intent-filter&gt;
         &lt;action android:name="android.nfc.cardemulation.action.HOST_APDU_SERVICE"/&gt;
     &lt;/intent-filter&gt;
     &lt;meta-data android:name="android.nfc.cardemulation.host_apdu_ervice" android:resource="@xml/apduservice"/&gt;
 &lt;/service&gt;</pre>

 This meta-data tag points to an apduservice.xml file.
 An example of this file with a single AID group declaration is shown below:
 <pre>
 &lt;host-apdu-service xmlns:android="http://schemas.android.com/apk/res/android"
           android:description="@string/servicedesc" android:requireDeviceUnlock="false"&gt;
       &lt;aid-group android:description="@string/aiddescription" android:category="other">
           &lt;aid-filter android:name="F0010203040506"/&gt;
           &lt;aid-filter android:name="F0394148148100"/&gt;
       &lt;/aid-group&gt;
 &lt;/host-apdu-service&gt;
 </pre>

 <p>The <code>&lt;host-apdu-service&gt;</code> is required
 to contain a
 <code>&lt;android:description&gt;</code>
 attribute that contains a user-friendly description of the service that may be shown in UI.
 The
 <code>&lt;requireDeviceUnlock&gt;</code>
 attribute can be used to specify that the device must be unlocked before this service
 can be invoked to handle APDUs.
 <p>The <code>&lt;host-apdu-service&gt;</code> must
 contain one or more <code>&lt;aid-group&gt;</code> tags.
 Each <code>&lt;aid-group&gt;</code> must contain one or
 more <code>&lt;aid-filter&gt;</code> tags, each of which
 contains a single AID. The AID must be specified in hexadecimal format, and contain
 an even number of characters.
 <h3>AID conflict resolution</h3>
 Multiple HostApduServices may be installed on a single device, and the same AID
 can be registered by more than one service. The Android platform resolves AID
 conflicts depending on which category an AID belongs to. Each category may
 have a different conflict resolution policy. For example, for some categories
 the user may be able to select a default service in the Android settings UI.
 For other categories, to policy may be to always ask the user which service
 is to be invoked in case of conflict.

 To query the conflict resolution policy for a certain category, see
 <a href="CardEmulation.html#getSelectionModeForCategory(java.lang.String)"><code>CardEmulation.getSelectionModeForCategory(String)</code></a>.

 <h3>Data exchange</h3>
 <p>Once the platform has resolved a "SELECT AID" command APDU to a specific
 service component, the "SELECT AID" command APDU and all subsequent
 command APDUs will be sent to that service through
 <code>#processCommandApdu(byte[], Bundle)</code>, until either:
 <ul>
 <li>The NFC link is broken</li>
 <li>A "SELECT AID" APDU is received which resolves to another service</li>
 </ul>
 These two scenarios are indicated by a call to <a href="#onDeactivated(int)"><code>onDeactivated(int)</code></a>.

 <p class="note">Use of this class requires the
 <code>PackageManager#FEATURE_NFC_HOST_CARD_EMULATION</code> to be present
 on the device.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Field</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#DEACTIVATION_DESELECTED">DEACTIVATION_DESELECTED</a></span></code></th>
<td class="colLast">
<div class="block">Reason for <a href="#onDeactivated(int)"><code>onDeactivated(int)</code></a>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#DEACTIVATION_LINK_LOSS">DEACTIVATION_LINK_LOSS</a></span></code></th>
<td class="colLast">
<div class="block">Reason for <a href="#onDeactivated(int)"><code>onDeactivated(int)</code></a>.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#KEY_DATA">KEY_DATA</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#MSG_COMMAND_APDU">MSG_COMMAND_APDU</a></span></code></th>
<td class="colLast">
<div class="block">MSG_COMMAND_APDU is sent by NfcService when
 a 7816-4 command APDU has been received.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#MSG_DEACTIVATED">MSG_DEACTIVATED</a></span></code></th>
<td class="colLast">
<div class="block">MSG_DEACTIVATED is sent by NfcService when
 the current session is finished; either because
 another AID was selected that resolved to
 another service, or because the NFC link
 was deactivated.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#MSG_RESPONSE_APDU">MSG_RESPONSE_APDU</a></span></code></th>
<td class="colLast">
<div class="block">MSG_RESPONSE_APDU is sent to NfcService to send
 a response APDU back to the remote device.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#MSG_UNHANDLED">MSG_UNHANDLED</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#SERVICE_INTERFACE">SERVICE_INTERFACE</a></span></code></th>
<td class="colLast">
<div class="block">The <code>Intent</code> action that must be declared as handled by the service.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#SERVICE_META_DATA">SERVICE_META_DATA</a></span></code></th>
<td class="colLast">
<div class="block">The name of the meta-data element that contains
 more information about this service.</div>
</td>
</tr>
</table>
</li>
</ul>
</section>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Constructor</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E()">HostApduService</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
</table>
</li>
</ul>
</section>
<!-- ========== METHOD SUMMARY =========== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#notifyUnhandled()">notifyUnhandled</a></span>()</code></th>
<td class="colLast">
<div class="block">Calling this method allows the service to tell the OS
 that it won't be able to complete this transaction -
 for example, because it requires data connectivity
 that is not present at that moment.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>IBinder</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#onBind(Intent)">onBind</a></span>&#8203;(Intent&nbsp;intent)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>abstract void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#onDeactivated(int)">onDeactivated</a></span>&#8203;(int&nbsp;reason)</code></th>
<td class="colLast">
<div class="block">This method will be called in two possible scenarios:
 The NFC link has been deactivated or lost
 A different AID has been selected and was resolved to a different
     service component</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>abstract byte[]</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#processCommandApdu(byte%5B%5D,Bundle)">processCommandApdu</a></span>&#8203;(byte[]&nbsp;commandApdu,
                  Bundle&nbsp;extras)</code></th>
<td class="colLast">
<div class="block">This method will be called when a command APDU has been received
 from a remote device.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#sendResponseApdu(byte%5B%5D)">sendResponseApdu</a></span>&#8203;(byte[]&nbsp;responseApdu)</code></th>
<td class="colLast">
<div class="block">Sends a response APDU back to the remote device.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a id="SERVICE_INTERFACE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>SERVICE_INTERFACE</h4>
<pre>public static final&nbsp;java.lang.String SERVICE_INTERFACE</pre>
<div class="block">The <code>Intent</code> action that must be declared as handled by the service.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../constant-values.html#android.nfc.cardemulation.HostApduService.SERVICE_INTERFACE">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a id="SERVICE_META_DATA">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>SERVICE_META_DATA</h4>
<pre>public static final&nbsp;java.lang.String SERVICE_META_DATA</pre>
<div class="block">The name of the meta-data element that contains
 more information about this service.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../constant-values.html#android.nfc.cardemulation.HostApduService.SERVICE_META_DATA">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a id="DEACTIVATION_LINK_LOSS">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>DEACTIVATION_LINK_LOSS</h4>
<pre>public static final&nbsp;int DEACTIVATION_LINK_LOSS</pre>
<div class="block">Reason for <a href="#onDeactivated(int)"><code>onDeactivated(int)</code></a>.
 Indicates deactivation was due to the NFC link
 being lost.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../constant-values.html#android.nfc.cardemulation.HostApduService.DEACTIVATION_LINK_LOSS">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a id="DEACTIVATION_DESELECTED">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>DEACTIVATION_DESELECTED</h4>
<pre>public static final&nbsp;int DEACTIVATION_DESELECTED</pre>
<div class="block">Reason for <a href="#onDeactivated(int)"><code>onDeactivated(int)</code></a>.

 <p>Indicates deactivation was due to a different AID
 being selected (which implicitly deselects the AID
 currently active on the logical channel).

 <p>Note that this next AID may still be resolved to this
 service, in which case <code>#processCommandApdu(byte[], Bundle)</code>
 will be called again.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../constant-values.html#android.nfc.cardemulation.HostApduService.DEACTIVATION_DESELECTED">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a id="MSG_COMMAND_APDU">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>MSG_COMMAND_APDU</h4>
<pre>public static final&nbsp;int MSG_COMMAND_APDU</pre>
<div class="block">MSG_COMMAND_APDU is sent by NfcService when
 a 7816-4 command APDU has been received.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../constant-values.html#android.nfc.cardemulation.HostApduService.MSG_COMMAND_APDU">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a id="MSG_RESPONSE_APDU">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>MSG_RESPONSE_APDU</h4>
<pre>public static final&nbsp;int MSG_RESPONSE_APDU</pre>
<div class="block">MSG_RESPONSE_APDU is sent to NfcService to send
 a response APDU back to the remote device.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../constant-values.html#android.nfc.cardemulation.HostApduService.MSG_RESPONSE_APDU">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a id="MSG_DEACTIVATED">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>MSG_DEACTIVATED</h4>
<pre>public static final&nbsp;int MSG_DEACTIVATED</pre>
<div class="block">MSG_DEACTIVATED is sent by NfcService when
 the current session is finished; either because
 another AID was selected that resolved to
 another service, or because the NFC link
 was deactivated.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../constant-values.html#android.nfc.cardemulation.HostApduService.MSG_DEACTIVATED">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a id="MSG_UNHANDLED">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>MSG_UNHANDLED</h4>
<pre>public static final&nbsp;int MSG_UNHANDLED</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../constant-values.html#android.nfc.cardemulation.HostApduService.MSG_UNHANDLED">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a id="KEY_DATA">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>KEY_DATA</h4>
<pre>public static final&nbsp;java.lang.String KEY_DATA</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../constant-values.html#android.nfc.cardemulation.HostApduService.KEY_DATA">Constant Field Values</a></dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a id="&lt;init&gt;()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>HostApduService</h4>
<pre>public&nbsp;HostApduService()</pre>
</li>
</ul>
</li>
</ul>
</section>
<!-- ============ METHOD DETAIL ========== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a id="onBind(Intent)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>onBind</h4>
<pre class="methodSignature">public final&nbsp;IBinder&nbsp;onBind&#8203;(Intent&nbsp;intent)</pre>
</li>
</ul>
<a id="sendResponseApdu(byte[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sendResponseApdu</h4>
<pre class="methodSignature">public final&nbsp;void&nbsp;sendResponseApdu&#8203;(byte[]&nbsp;responseApdu)</pre>
<div class="block">Sends a response APDU back to the remote device.

 <p>Note: this method may be called from any thread and will not block.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>responseApdu</code> - A byte-array containing the reponse APDU.</dd>
</dl>
</li>
</ul>
<a id="notifyUnhandled()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>notifyUnhandled</h4>
<pre class="methodSignature">public final&nbsp;void&nbsp;notifyUnhandled()</pre>
<div class="block">Calling this method allows the service to tell the OS
 that it won't be able to complete this transaction -
 for example, because it requires data connectivity
 that is not present at that moment.

 The OS may use this indication to give the user a list
 of alternative applications that can handle the last
 AID that was selected. If the user would select an
 application from the list, that action by itself
 will not cause the default to be changed; the selected
 application will be invoked for the next tap only.

 If there are no other applications that can handle
 this transaction, the OS will show an error dialog
 indicating your service could not complete the
 transaction.

 <p>Note: this method may be called anywhere between
    the first <code>#processCommandApdu(byte[], Bundle)</code>
    call and a <a href="#onDeactivated(int)"><code>onDeactivated(int)</code></a> call.</div>
</li>
</ul>
<a id="processCommandApdu(byte[],Bundle)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>processCommandApdu</h4>
<pre class="methodSignature">public abstract&nbsp;byte[]&nbsp;processCommandApdu&#8203;(byte[]&nbsp;commandApdu,
                                          Bundle&nbsp;extras)</pre>
<div class="block"><p>This method will be called when a command APDU has been received
 from a remote device. A response APDU can be provided directly
 by returning a byte-array in this method. Note that in general
 response APDUs must be sent as quickly as possible, given the fact
 that the user is likely holding their device over an NFC reader
 when this method is called.

 <p class="note">If there are multiple services that have registered for the same
 AIDs in their meta-data entry, you will only get called if the user has
 explicitly selected your service, either as a default or just for the next tap.

 <p class="note">This method is running on the main thread of your application.
 If you cannot return a response APDU immediately, return null
 and use the <a href="#sendResponseApdu(byte%5B%5D)"><code>sendResponseApdu(byte[])</code></a> method later.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>commandApdu</code> - The APDU that was received from the remote device</dd>
<dd><code>extras</code> - A bundle containing extra data. May be null.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a byte-array containing the response APDU, or null if no
         response APDU can be sent at this point.</dd>
</dl>
</li>
</ul>
<a id="onDeactivated(int)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>onDeactivated</h4>
<pre class="methodSignature">public abstract&nbsp;void&nbsp;onDeactivated&#8203;(int&nbsp;reason)</pre>
<div class="block">This method will be called in two possible scenarios:
 <li>The NFC link has been deactivated or lost
 <li>A different AID has been selected and was resolved to a different
     service component</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>reason</code> - Either <a href="#DEACTIVATION_LINK_LOSS"><code>DEACTIVATION_LINK_LOSS</code></a> or <a href="#DEACTIVATION_DESELECTED"><code>DEACTIVATION_DESELECTED</code></a></dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
</footer>
</body>
</html>
